<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Educational Agent</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f8f9fa;
    }

    .hero {
      background: url('https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=1600&q=80')
        no-repeat center center/cover;
      position: relative;
      color: white;
      text-align: center;
      padding: 120px 20px;
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.6);
    }

    .hero h1,
    .hero p {
      position: relative;
      z-index: 1;
      animation: fadeInUp 1s ease;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .card {
      border-radius: 10px;
      transition: transform 0.3s;
    }

    .card:hover {
      transform: scale(1.02);
    }

    .btn {
      border-radius: 30px;
      padding: 10px 20px;
    }

    footer {
      font-size: 14px;
    }

    .fade-in {
      animation: fadeInUp 0.6s ease;
    }
  </style>
</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <span class="navbar-brand fw-bold">Educational Agent</span>
  </div>
</nav>

<!-- Hero -->
<div class="hero">
  <h1 class="fw-bold">üéì Your Learning Companion</h1>
  <p>Manage courses, track progress, and get smart recommendations instantly</p>
</div>

<!-- Main Content -->
<div class="container my-5">

  <!-- Add Course -->
  <div class="card mb-4 shadow-sm">
    <div class="card-header">
      <i class="bi bi-book"></i> Add Course
    </div>
    <div class="card-body">
      <input type="text" id="courseName" class="form-control mb-2" placeholder="Course Name">
      <input type="number" id="courseDuration" class="form-control mb-2" placeholder="Duration (days)">
      <button class="btn btn-primary" onclick="addCourse()">Add Course</button>
      <button class="btn btn-secondary ms-2" onclick="viewCourses()">View Courses</button>
      <div id="coursesList" class="mt-3"></div>
    </div>
  </div>

  <!-- Add Student -->
  <div class="card mb-4 shadow-sm">
    <div class="card-header">
      <i class="bi bi-person-plus"></i> Add Student
    </div>
    <div class="card-body">
      <input type="text" id="studentName" class="form-control mb-2" placeholder="Student Name">
      <input type="number" id="studentProgress" class="form-control mb-2" placeholder="Progress %">
      <button class="btn btn-success" onclick="addStudent()">Add Student</button>
      <button class="btn btn-secondary ms-2" onclick="viewStudents()">View Students</button>
      <div id="studentsList" class="mt-3"></div>
    </div>
  </div>

  <!-- Recommendation -->
  <div class="card mb-4 shadow-sm">
    <div class="card-header">
      <i class="bi bi-lightbulb"></i> Get Recommendation
    </div>
    <div class="card-body">
      <input type="text" id="recommendName" class="form-control mb-2" placeholder="Student Name">
      <button class="btn btn-info" onclick="getRecommendation()">Get Recommendation</button>
    </div>
  </div>

  <div id="result"></div>
</div>

<!-- Footer -->
<footer class="bg-dark text-white text-center p-3">
  Made with ‚ù§Ô∏è by Keerthi | Hackathon Project
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  const BASE_URL = "https://edu-agent-nzfp.onrender.com";

  function showLoading(target = "result") {
    document.getElementById(target).innerHTML = `
      <div class="text-center">
        <div class="spinner-border text-primary"></div>
        <p class="mt-2">Loading...</p>
      </div>
    `;
  }

  function showResult(title, message, type) {
    document.getElementById("result").innerHTML = `
      <div class="card border-${type} shadow-sm fade-in">
        <div class="card-header bg-${type} text-white">${title}</div>
        <div class="card-body">
          <p>${message}</p>
        </div>
      </div>
    `;
  }

  async function addCourse() {
    const name = courseName.value.trim();
    const duration = courseDuration.value;

    if (!name || !duration) {
      showResult("Error", "Please fill all course fields", "danger");
      return;
    }

    showLoading();
    const res = await fetch(`${BASE_URL}/add_course?name=${name}&duration=${duration}`);
    const data = await res.json();
    showResult("Course Added", JSON.stringify(data), "primary");
  }

  async function addStudent() {
    const name = studentName.value.trim();
    const progress = studentProgress.value;

    if (!name || progress < 0 || progress > 100) {
      showResult("Error", "Enter valid student data", "danger");
      return;
    }

    showLoading();
    const res = await fetch(`${BASE_URL}/add_student?name=${name}&progress=${progress}`);
    const data = await res.json();
    showResult("Student Added", JSON.stringify(data), "success");
  }

  async function getRecommendation() {
    const name = recommendName.value.trim();
    if (!name) return;

    showLoading();
    const res = await fetch(`${BASE_URL}/recommend/${name}`);
    const data = await res.json();

    if (data.recommendation)
      showResult("Recommendation", data.recommendation, "info");
    else
      showResult("Error", data.error, "danger");
  }

  async function viewCourses() {
    showLoading("coursesList");
    const res = await fetch(`${BASE_URL}/courses`);
    const data = await res.json();

    let html = "<ul class='list-group fade-in'>";
    data.forEach(c => {
      html += `<li class="list-group-item">${c.name} - ${c.duration} days</li>`;
    });
    html += "</ul>";

    coursesList.innerHTML = html;
  }

  async function viewStudents() {
    showLoading("studentsList");
    const res = await fetch(`${BASE_URL}/students`);
    const data = await res.json();

    let html = "<ul class='list-group fade-in'>";
    data.forEach(s => {
      html += `<li class="list-group-item">${s.name} - ${s.progress}%</li>`;
    });
    html += "</ul>";

    studentsList.innerHTML = html;
  }
</script>

</body>
</html>




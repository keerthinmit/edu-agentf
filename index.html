<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Educational Agent</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- Typed.js -->
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f4f6fb;
    }

    /* ---------- NAVBAR ---------- */
    .navbar {
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }

    /* ---------- HERO ---------- */
    .hero {
      background: linear-gradient(135deg, rgba(0,0,0,.7), rgba(13,110,253,.6)),
      url('https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=1600&q=80') center/cover;
      color: white;
      padding: 120px 20px;
      text-align: center;
    }

    /* ---------- STATS ---------- */
    .stat-card {
      background: linear-gradient(135deg, #0d6efd, #6610f2);
      color: white;
      border-radius: 16px;
      box-shadow: 0 15px 35px rgba(13,110,253,.35);
      animation: float 4s ease-in-out infinite;
    }

    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    /* ---------- REVEAL ---------- */
    .reveal {
      opacity: 0;
      transform: translateY(40px);
      transition: 0.8s ease;
    }
    .reveal.active {
      opacity: 1;
      transform: translateY(0);
    }

    /* ---------- CARDS ---------- */
    .card {
      border-radius: 16px;
      transition: transform .3s, box-shadow .3s;
    }
    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 15px 30px rgba(0,0,0,.15);
    }

    /* ---------- BUTTON EFFECT ---------- */
    .btn {
      border-radius: 30px;
      position: relative;
      overflow: hidden;
    }
    .btn::after {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,.25);
      top: 0;
      left: -100%;
      transition: .4s;
    }
    .btn:hover::after {
      left: 0;
    }

    footer {
      background: #111;
      color: white;
      padding: 15px;
      text-align: center;
    }
  </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <span class="navbar-brand fw-bold">üéì Educational Agent</span>
  </div>
</nav>

<!-- HERO -->
<div class="hero">
  <h1 class="fw-bold"><span id="typed"></span></h1>
  <p class="fs-5">Smart learning, progress tracking & recommendations</p>
</div>

<!-- STATS -->
<div class="container my-5">
  <div class="row text-center g-4">
    <div class="col-md-4">
      <div class="card stat-card reveal">
        <div class="card-body">
          <i class="bi bi-book fs-1"></i>
          <h5>Total Courses</h5>
          <p id="courseCount" class="fs-2 fw-bold">0</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card stat-card reveal">
        <div class="card-body">
          <i class="bi bi-people fs-1"></i>
          <h5>Total Students</h5>
          <p id="studentCount" class="fs-2 fw-bold">0</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card stat-card reveal">
        <div class="card-body">
          <i class="bi bi-graph-up fs-1"></i>
          <h5>Avg Progress</h5>
          <p id="avgProgress" class="fs-2 fw-bold">0%</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MAIN -->
<div class="container my-5">

  <!-- COURSE -->
  <div class="card reveal mb-4">
    <div class="card-header fw-bold"><i class="bi bi-book"></i> Add Course</div>
    <div class="card-body">
      <input id="courseName" class="form-control mb-2" placeholder="Course Name">
      <input id="courseDuration" class="form-control mb-2" type="number" placeholder="Duration (days)">
      <button class="btn btn-primary" onclick="addCourse()">Add Course</button>
      <div id="coursesList" class="mt-3"></div>
    </div>
  </div>

  <!-- STUDENT -->
  <div class="card reveal mb-4">
    <div class="card-header fw-bold"><i class="bi bi-person-plus"></i> Add Student</div>
    <div class="card-body">
      <input id="studentName" class="form-control mb-2" placeholder="Student Name">
      <input id="studentProgress" class="form-control mb-2" type="number" placeholder="Progress %">
      <button class="btn btn-success" onclick="addStudent()">Add Student</button>
      <div id="studentsList" class="mt-3"></div>
    </div>
  </div>

  <!-- RECOMMEND -->
  <div class="card reveal mb-4">
    <div class="card-header fw-bold"><i class="bi bi-lightbulb"></i> Recommendation</div>
    <div class="card-body">
      <input id="recommendName" class="form-control mb-2" placeholder="Student Name">
      <button class="btn btn-info" onclick="getRecommendation()">Get Recommendation</button>
    </div>
  </div>

  <div id="result"></div>
</div>

<footer>
  Made with ‚ù§Ô∏è by Keerthi | Hackathon Project
</footer>

<!-- SCRIPT -->
<script>
  new Typed("#typed", {
    strings: ["Your Learning Companion", "Hackathon Ready", "Smart Education Platform"],
    typeSpeed: 60,
    backSpeed: 40,
    loop: true
  });

  const BASE_URL = "https://edu-agent-nzfp.onrender.com";

  function animateCount(id, target, suffix="") {
    let count = 0;
    const step = Math.ceil(target / 30);
    const el = document.getElementById(id);
    const interval = setInterval(() => {
      count += step;
      if (count >= target) {
        el.innerText = target + suffix;
        clearInterval(interval);
      } else {
        el.innerText = count + suffix;
      }
    }, 20);
  }

  async function viewCourses() {
    const res = await fetch(`${BASE_URL}/courses`);
    const data = await res.json();
    animateCount("courseCount", data.length);
    coursesList.innerHTML = data.map(c =>
      `<div class="alert alert-light">${c.name} ‚Äì ${c.duration} days</div>`
    ).join("");
  }

  async function viewStudents() {
    const res = await fetch(`${BASE_URL}/students`);
    const data = await res.json();
    animateCount("studentCount", data.length);
    const avg = data.reduce((a,b)=>a+b.progress,0)/(data.length||1);
    animateCount("avgProgress", Math.round(avg), "%");

    studentsList.innerHTML = data.map(s =>
      `<div class="mb-2">
        <strong>${s.name}</strong>
        <div class="progress">
          <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:${s.progress}%">${s.progress}%</div>
        </div>
      </div>`
    ).join("");
  }

  async function addCourse() {
    await fetch(`${BASE_URL}/add_course?name=${courseName.value}&duration=${courseDuration.value}`);
    viewCourses();
  }

  async function addStudent() {
    await fetch(`${BASE_URL}/add_student?name=${studentName.value}&progress=${studentProgress.value}`);
    viewStudents();
  }

  async function getRecommendation() {
    const res = await fetch(`${BASE_URL}/recommend/${recommendName.value}`);
    const data = await res.json();
    result.innerHTML = `<div class="alert alert-info">üí° ${data.recommendation}</div>`;
  }

  window.addEventListener("scroll", () => {
    document.querySelectorAll(".reveal").forEach(el => {
      if (el.getBoundingClientRect().top < window.innerHeight - 100) {
        el.classList.add("active");
      }
    });
  });
</script>

</body>
</html>







